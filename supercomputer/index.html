<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>IÂ bought a supercomputer. | Garrett Dowd</title><meta name="description" content="IntroIÂ bought a supercomputer. Well... to be more accurateÂ I bought about 10% of the Oakley supercomputer which was managed by the&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://blog.garrettdowd.com/supercomputer/"><link rel="alternate" type="application/atom+xml" href="https://blog.garrettdowd.com/feed.xml"><link rel="alternate" type="application/json" href="https://blog.garrettdowd.com/feed.json"><link rel="shortcut icon" href="https://blog.garrettdowd.com/media/website/Garrett-Dowd-SF-6-01-svg.png" type="image/png"><link rel="shortcut icon" href="https://blog.garrettdowd.com/media/website/Garrett-Dowd-SF-6-01-svg.png" type="image/png"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:var(--body-font);--logo-font:var(--body-font);--menu-font:var(--body-font)}</style><link rel="stylesheet" href="https://blog.garrettdowd.com/assets/css/style.css?v=1d0a60675ce739a1c7da99da8800471f"><link rel="stylesheet" href="https://blog.garrettdowd.com/assets/css/photoswipe.css?v=ffb247881cd6f611d007fd4a96b7b16a"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.garrettdowd.com/supercomputer/"},"headline":"IÂ bought a supercomputer.","datePublished":"2020-07-07T12:39","dateModified":"2020-07-17T03:27","image":{"@type":"ImageObject","url":"https://blog.garrettdowd.com/media/posts/1/servers.jpg","height":944,"width":944},"description":"IntroIÂ bought a supercomputer. Well... to be more accurateÂ I bought about 10% of the Oakley supercomputer which was managed by the&hellip;","author":{"@type":"Person","name":"Garrett Dowd"},"publisher":{"@type":"Organization","name":"Garrett Dowd","logo":{"@type":"ImageObject","url":"https://blog.garrettdowd.com/media/website/Garrett-Dowd-SF-6-01-svg1.png","height":480,"width":960}}}</script><style>.pswp--svg .pswp__button,
				          .pswp--svg .pswp__button--arrow--left:before,
				          .pswp--svg .pswp__button--arrow--right:before {
					          background-image: url(https://blog.garrettdowd.com/assets/svg/gallery-icons-light.svg);
			              }</style><script type="application/ld+json">{ "@context": "https://schema.org", "@type": "BreadcrumbList", "itemListElement": [{ "@type": "ListItem", "position": 1, "name": "Home", "item": "https://blog.garrettdowd.com/" },{ "@type": "ListItem", "position": 2, "name": "Computing", "item": "https://blog.garrettdowd.com/t/computing/" }] }</script></head><body><header class="header" id="js-header"><a href="https://blog.garrettdowd.com/" class="logo"><img src="https://blog.garrettdowd.com/media/website/Garrett-Dowd-SF-6-01-svg1.png" alt="Garrett Dowd"></a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="[MISSING TRANSLATION]"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">[MISSING TRANSLATION]</span></span></button><ul class="navbar__menu"><li><a href="https://blog.garrettdowd.com/t/product-management/" target="_self">View Portfolio</a></li><li><a href="https://blog.garrettdowd.com/t/projects/" target="_self">Explore Projects</a></li><li><a href="https://www.linkedin.com/in/garrettdowd/" target="_blank">Connect on Linkedin</a></li><li><a href="https://github.com/garrettdowd" target="_blank">Collab on Github</a></li><li><a href="https://blog.garrettdowd.com/" target="_self">View All</a></li></ul></nav></header><main class="main main--post"><article class="post"><header class="hero post__header"><div class="wrapper wrapper--narrow"><ol class="breadcrumb"><li><a href="https://blog.garrettdowd.com/"><span>Home</span></a></li><li><span>&rsaquo;</span> <a href="https://blog.garrettdowd.com/t/computing/" title="Computing"><span>Computing</span></a></li></ol><h1 class="post__title">IÂ bought a supercomputer.</h1><div class="post__meta"><time datetime="2020-07-07T12:39">July 7, 2020</time></div></div></header><div class="wrapper main__content post__inner"><figure class="post__featured-image"><img src="https://blog.garrettdowd.com/media/posts/1/servers.jpg" srcset="https://blog.garrettdowd.com/media/posts/1/responsive/servers-xs.jpg 384w, https://blog.garrettdowd.com/media/posts/1/responsive/servers-sm.jpg 600w, https://blog.garrettdowd.com/media/posts/1/responsive/servers-md.jpg 768w, https://blog.garrettdowd.com/media/posts/1/responsive/servers-lg.jpg 1200w" sizes="(max-width: 2560px) 100vw, 2560px" loading="eager" height="944" width="944" alt=""></figure><div class="post__entry"><h2>Intro</h2><p>IÂ bought a supercomputer.</p><p>Well... to be more accurateÂ I bought about 10% of the <a href="https://www.osc.edu/resources/technical_support/supercomputers/oakley">Oakley supercomputer</a> which was managed by the Ohio Supercomputer Center (OSC). The supercomputer cluster consisted of ~750 computers (nodes) that could be run in parallel for massive simulations and other technical computing. It featured a peak performance of 154.1 <a href="https://www.reddit.com/r/compsci/comments/bivyih/flops_vs_ips_regarding_supercomputerswhats_the/">teraflops</a> (CPU&amp;GPU) and used an ungodly amount of energy. Oakley was decommissioned in 2019 and is in the process of being liquidated.Â </p><figure class="post__image align-center"><img loading="lazy" src="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/osc_oakley_hp_intel_xeon_clusterlrg.jpg" sizes="(max-width: 48em) 100vw, 100vw" srcset="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/responsive/osc_oakley_hp_intel_xeon_clusterlrg-xs.jpg 384w, file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/responsive/osc_oakley_hp_intel_xeon_clusterlrg-sm.jpg 600w, file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/responsive/osc_oakley_hp_intel_xeon_clusterlrg-md.jpg 768w, file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/responsive/osc_oakley_hp_intel_xeon_clusterlrg-lg.jpg 1200w" alt="Oakely Supercomputer Cluster" width="580" height="387"></figure><p>However, decommissioned does not mean worthless. A single node from the Oakley cluster has dual six-core Xeon CPUs with 48GB of RAM. Performance is on par with some of 2019's best laptops (including Macbook Pro's) depending on the type of compute workload. If you want to see the full specs skip to the <a href="#mcetoc_1e3j0jl6i0">next section</a>.Â </p><p class="msg msg--highlight">Now you might be thinking, "<em>Uhhhh why would you buy..?</em>". <a href="https://www.youtube.com/watch?v=Qmzk2qhXBf0">Because Anton.</a> More on that later.</p><h2>Hardware</h2><p>Even in 2020, these hardware specs are impressive for personal use. For the most part, supercomputers are all about compute density, fitting a lot of processing power into a small space, and that can be expensive. Each Xeon x5650 CPU in these servers had an original retail price of <a href="https://ark.intel.com/content/www/us/en/ark/products/47922/intel-xeon-processor-x5650-12m-cache-2-66-ghz-6-40-gt-s-intel-qpi.html">$999 USD</a>. There are <strong>sixty-two</strong> x5650 CPUs in the servers that I purchased equating to an original face value of ~$60,000 USD...ðŸ˜µÂ </p><p>The server racks in the picture below are comparable to a Ferrari 458 Speciale, or A5 Waygu covered in black truffle if food is more your thing. They are top-of-the-line and built for performance, with a face value to match.</p><figure class="post__image align-center"><img loading="lazy" src="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/IMG_6815.jpg" sizes="(max-width: 48em) 100vw, 100vw" srcset="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/responsive/IMG_6815-xs.jpg 384w, file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/responsive/IMG_6815-sm.jpg 600w, file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/responsive/IMG_6815-md.jpg 768w, file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/responsive/IMG_6815-lg.jpg 1200w" alt="The two server racks I purchased from OSC liquidation" width="385" height="514"></figure><p>The server rack on the right contains 2U (height) HP Proliant SL390s servers. These 2U servers contain the (dual) NVIDIA GPUs. The rack on the right contains 1U SL390s servers which are CPU only.</p><p><strong><span style="text-decoration: underline;">HP Proliant SL390s Spec/Config</span></strong></p><p class="msg msg--info">Dual Xenon x5650 6-cores @ 2.67 GHz<br>Dual NVIDIA Tesla M2070 GPUs<br><span style="color: var(--text-editor-body-color); font-family: var(--font-base); font-size: inherit; font-weight: var(--font-weight-normal);">48 (8GBx6) ECC DDR3 Memory<br></span>Dual RJ45 NIC (1 Gb/s), 1 SFP+ port (10 Gb/s), 1 QSFP port (40 Gb/s)<br>Dedicated iLO3</p><p>The SL390s is part of HP's "scalable" line of enterprise servers and is a tray configuration. Each of these servers fit into a (HP S6500) chassis which provides power and cooling to all of the server trays. This improves density, efficiency, ease of maintenance, etc. If a server fails or needs to be fixed then it is simply slid out of the chassis while all of the other servers remain running.</p><p>Some of the server trays in the racks above were empty (no CPUs or RAM). Accounting for those empty servers I am left with a <strong>total of</strong>;</p><p class="msg msg--info">372 CPU Cores<br>1.44TB RAM<br>30 NVIDIA Tesla GPUs</p><p>Not bad. Not bad at all.</p><h3>Power and Networking</h3><p>Looking at the servers is one thing, but running them all at once in a cluster is a completely different thing. Each rack includes two large power distribution units which converts 240V three phase AC into the 120V single phase AC that the servers need. The connectors are monstrous and the cables are rated to 80 amps. Additionally, each rack comes with two 48 port switches (where all the computers plug into for network access). At the OSC, a single fiber optic cable (QDR, 40 Gb/s) was run from from the gigabit switch in the rack to the main switching network in the center which connected this rack to all the other racks. Modularity at its finest.</p><p>However, this is also the reason why I am selling a good portion of what I bought. It is unrealistic to run this in a home setting. Most homes are for a 100-200 amp service (at 240V) from the power company, which is 24-48 kilowatts. Running a single rack at full blast could consume 10-15 kilowatts (extremely rough estimate), and that is not even considering you would need to install special wiring from your mains box to the servers. So yeah, <a href="https://www.youtube.com/watch?v=eZTaNLfxTRU">Anton</a> is best saved for when someone else is paying for the electricity.</p><div class="gallery-wrapper"><div class="gallery" data-is-empty="false" data-columns="3"><figure class="gallery__item"><a href="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6874.jpg" data-size="1277x958"><img loading="lazy" src="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6874-thumbnail.jpg" alt="" width="768" height="576"></a><figcaption class="gallery__item-description">Power Conversion/Distribution</figcaption></figure><figure class="gallery__item"><a href="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6875.jpg" data-size="977x1303"><img loading="lazy" src="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6875-thumbnail.jpg" alt="" width="768" height="1024"></a><figcaption class="gallery__item-description">Mains Connector</figcaption></figure><figure class="gallery__item"><a href="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6872.jpg" data-size="1277x958"><img loading="lazy" src="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6872-thumbnail.jpg" alt="" width="768" height="576"></a><figcaption class="gallery__item-description">Bundles of Ethernet cables (meticulously labelled and unceremoniously removed)</figcaption></figure><figure class="gallery__item"><a href="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6851.jpg" data-size="708x944"><img loading="lazy" src="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6851-thumbnail.jpg" alt="" width="708" height="944"></a><figcaption class="gallery__item-description">Power strips from the mains converter.</figcaption></figure><figure class="gallery__item"><a href="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6855.jpg" data-size="1259x944"><img loading="lazy" src="file://C:/Users/me/Documents/Publii/sites/garrett-dowd-dev1-gcp/input/media/posts/1/gallery/IMG_6855-thumbnail.jpg" alt="" width="768" height="576"></a><figcaption class="gallery__item-description">Power supplies on the S6500 chassis</figcaption></figure></div></div><h2 class="msg--highlight">Why</h2><p class="msg--highlight msg"><em>"OK. BUT REALLY. Why would you.. What sane person would..."</em> <a href="https://youtu.be/BRZ4NKaqGro?t=92">Please stop saying that.</a></p><p>So yes there are downsides to owning part of a supercomputer. Needing a commercial truck with a lift-gate to move it is quite inconvenient. Blowing the main fuse on your house is also not a lot of fun. I didn't even study computer science or computer engineering, so how am I supposed to know how it all works? Luckily, this is not my first server.</p><p>Back in 2013, I had a bunch of external hard drives with photos and video from my photography hobby. These HDDs also held a bunch of music, movies, data from experiments, and more. I even had backups of all of this content because my encounters with data loss were very painful. So to consolidate all of this storage into a single filesystem and make backups easier I moved everything into an <a href="https://unraid.net/">unRAID</a> server. unRAID is a linux distribution, based on Slackware, that was built for network attached storage (NAS) purposes. If you can build a computer then you can probably get a headless unRAID installation up and running for your home. Anyway, back then the community was small and you didn't even have the ability to run apps on the computer, it was storage only.</p><p>Fast forward to 2020 and virtualization has blown up in popularity. With technologies like Docker or LXC it is easy to turn any server into a personal cloud service (equivalent ~ Netflix/Dropbox/Facebook/Google Photos/Nest/etc) with free and open-source software (FOSS).Â </p><p class="msg msg--success">Running a personal server at home means that you own and control your data. Privacy is preserved and companies aren't selling your personal data to the highest bidder.</p><h3>Cut the the chase</h3><h2><figure class="post__image post__image--center"><img loading="lazy" src="https://media.giphy.com/media/ln1j2Bz4PyE8KMyW2g/giphy.gif" data-is-external-image="true" alt="" width="260" height="260"></figure></h2><p>Well, there are two reasons that these new servers are useful.</p><ol><li>High availability</li><li>High performance</li></ol><p><strong>High availability</strong> - All computer hardware needs maintenance. Hard drives die. Components need to be upgraded. Things need to be moved for cleaning or constructions. If you are running mission-critical applications on your server like Home Assistant home-automation software, software-defined networking, or even a virtualized Windows desktop then it can be very disruptive if your server goes down for any significant amount of time. Using virtualization technologies like LXC or KVM in combination with a management system like Proxmox makes it easy to move applications from one physical computer to another with almost zero downtime. As I start to automate more functions in my living space and rely more heavily on the convenience of running my own server, it pays to have redundancy.</p><p><strong>High performance</strong> - I enjoy using a small, lightweight laptop. Unfortunately, a good portion of my work involves heavy computation (video processing, machine learning, code compiling, simulation). Using this server cluster I can spin up multiple machines for a `torch.distributed` (PyTorch) job, a Matlab Parallel Server, or even a custom <a href="https://en.wikipedia.org/wiki/Beowulf_cluster" target="_blank" rel="noopener noreferrer">Beowulf cluster</a>.</p><h2>Actually Using the Servers</h2><p>If you made it this far in the post then you probably want more details. I will split up some of this practical "how-to" information over a few posts to decrease the skimming burden on your eyes and brain.</p><p><em>(links will be available here as posts are published)</em></p><p><strong>PXE BootÂ and iLO</strong></p><p><strong>Proxmox</strong></p><p><strong>GPU Pass-through</strong></p><p><strong>Docker and Portainer</strong></p><p><strong>Network Storage (NFS/CIFS/iSCSI)</strong></p><p><strong>Backups</strong></p><p><strong>Reverse Proxies</strong></p><p><strong>Domains and DNS</strong></p><p><strong>My cloud services</strong></p><p><strong>Kubernetes and Rancher</strong></p></div><footer><p class="post__last-updated">This article was updated on July 17, 2020</p><div class="post__tags-share"><ul class="post__tag"><li><a href="https://blog.garrettdowd.com/t/computing/">Computing</a></li><li><a href="https://blog.garrettdowd.com/t/projects/">Projects</a></li></ul><aside class="post__share"><button class="post__share-button js-post__share-button" aria-label="[MISSING TRANSLATION]"><svg width="32" height="32"><use xlink:href="https://blog.garrettdowd.com/assets/svg/svg-map.svg#share"></use></svg></button><div class="post__share-popup js-post__share-popup"><a href="https://twitter.com/share?url=https%3A%2F%2Fblog.garrettdowd.com%2Fsupercomputer%2F&amp;via=%40iamgarrettdowd&amp;text=I%C2%A0bought%20a%20supercomputer." class="js-share twitter" title="[MISSING TRANSLATION] Twitter" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://blog.garrettdowd.com/assets/svg/svg-map.svg#twitter"/></svg> Twitter </a><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2Fblog.garrettdowd.com%2Fsupercomputer%2F&amp;title=I%C2%A0bought%20a%20supercomputer." class="js-share linkedin" title="[MISSING TRANSLATION] LinkedIn" rel="nofollow noopener noreferrer"><svg><use xlink:href="https://blog.garrettdowd.com/assets/svg/svg-map.svg#linkedin"/></svg> LinkedIn</a></div></aside></div></footer></div></article></main><footer class="footer"><div class="wrapper"><div class="footer__top"><a class="logo footer__logo" href="https://blog.garrettdowd.com/"><img src="https://blog.garrettdowd.com/media/website/Garrett-Dowd-SF-6-01-svg1.png" alt="Garrett Dowd"></a></div><div class="footer__bottom"><div class="footer__copyright">&copy; 2020 Powered by <a href="https://getpublii.com" target="_blank" rel="noopener noreferrer nofollow">Publii Static CMS</a></div><div class="footer__social"><a href="https://www.instagram.com/garrett.dowd/" aria-label="Instagram" class="instagram"><svg><use xlink:href="https://blog.garrettdowd.com/assets/svg/svg-map.svg#instagram"/></svg> </a><a href="https://www.linkedin.com/in/garrettdowd/" aria-label="LinkedIn" class="linkedin"><svg><use xlink:href="https://blog.garrettdowd.com/assets/svg/svg-map.svg#linkedin"/></svg></a></div></div></div><button class="footer__bttop js-footer__bttop"><svg aria-hidden="true"><use xlink:href="https://blog.garrettdowd.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer><script defer="defer" src="https://blog.garrettdowd.com/assets/js/infinite-scroll.pkgd.min.js?v=4dd9a5c6d0be090b107ed878587f0039"></script><script>window.publiiThemeMenuConfig = { mobileMenuMode: 'sidebar', animationSpeed: 300, submenuWidth: 'auto', doubleClickTime: 500, mobileMenuExpandableSubmenus: true, relatedContainerForOverlayMenuSelector: '.navbar', };</script><script defer="defer" src="https://blog.garrettdowd.com/assets/js/scripts.min.js?v=ea30e966488ea4e09df508f547988da0"></script><script>function publiiDetectLoadedImages () {
         var images = document.querySelectorAll('img[loading]:not(.is-loaded)');
         for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                  images[i].classList.add('is-loaded');
                  images[i].parentNode.classList.add('is-loaded');
            } else {
                  images[i].addEventListener('load', function () {
                     this.classList.add('is-loaded');
                     this.parentNode.classList.add('is-loaded');
                  }, false);
            }
         }
      }
      publiiDetectLoadedImages();</script><script defer="defer" src="https://blog.garrettdowd.com/assets/js/photoswipe.min.js?v=017385b552f7e0d979e2e2fe6f324015"></script><script defer="defer" src="https://blog.garrettdowd.com/assets/js/photoswipe-ui-default.min.js?v=d067f0883540b1ddda0e2c9ad1b14260"></script><script>var initPhotoSwipeFromDOM=function(gallerySelector){var parseThumbnailElements=function(el){var thumbElements=el.childNodes,numNodes=thumbElements.length,items=[],figureEl,linkEl,size,item;for(var i=0;i<numNodes;i++){figureEl=thumbElements[i];if(figureEl.nodeType!==1){continue;}
          linkEl=figureEl.children[0];size=linkEl.getAttribute('data-size').split('x');item={src:linkEl.getAttribute('href'),w:parseInt(size[0],10),h:parseInt(size[1],10)};if(figureEl.children.length>1){item.title=figureEl.children[1].innerHTML;}
          if(linkEl.children.length>0){item.msrc=linkEl.children[0].getAttribute('src');}
          item.el=figureEl;items.push(item);}
          return items;};var closest=function closest(el,fn){return el&&(fn(el)?el:closest(el.parentNode,fn));};var onThumbnailsClick=function(e){e=e||window.event;e.preventDefault?e.preventDefault():e.returnValue=false;var eTarget=e.target||e.srcElement;var clickedListItem=closest(eTarget,function(el){return(el.tagName&&el.tagName.toUpperCase()==='FIGURE');});if(!clickedListItem){return;}
          var clickedGallery=clickedListItem.parentNode,childNodes=clickedListItem.parentNode.childNodes,numChildNodes=childNodes.length,nodeIndex=0,index;for(var i=0;i<numChildNodes;i++){if(childNodes[i].nodeType!==1){continue;}
          if(childNodes[i]===clickedListItem){index=nodeIndex;break;}
          nodeIndex++;}
          if(index>=0){openPhotoSwipe(index,clickedGallery);}
          return false;};var photoswipeParseHash=function(){var hash=window.location.hash.substring(1),params={};if(hash.length<5){return params;}
          var vars=hash.split('&');for(var i=0;i<vars.length;i++){if(!vars[i]){continue;}
          var pair=vars[i].split('=');if(pair.length<2){continue;}
          params[pair[0]]=pair[1];}
          if(params.gid){params.gid=parseInt(params.gid,10);}
          return params;};var openPhotoSwipe=function(index,galleryElement,disableAnimation,fromURL){var pswpElement=document.querySelectorAll('.pswp')[0],gallery,options,items;items=parseThumbnailElements(galleryElement);options={galleryUID:galleryElement.getAttribute('data-pswp-uid'),getThumbBoundsFn:function(index){var thumbnail=items[index].el.getElementsByTagName('img')[0],pageYScroll=window.pageYOffset||document.documentElement.scrollTop,rect=thumbnail.getBoundingClientRect();return{x:rect.left,y:rect.top+pageYScroll,w:rect.width};},
          mainClass:'pswp--dark',
          preload: [1,2],
          hideAnimationDuration:200,
          showAnimationDuration:0,
          bgOpacity: 0.7,
          showHideOpacity:true,
          closeOnScroll: true,
          arrowKeys: true,
          closeEl: true,
          captionEl: true,
          fullscreenEl: true,
          zoomEl: true,
          shareEl: true,
          counterEl: true,
          arrowEl: true,
          preloaderEl: true
          };if(fromURL){if(options.galleryPIDs){for(var j=0;j<items.length;j++){if(items[j].pid==index){options.index=j;break;}}}else{options.index=parseInt(index,10)-1;}}else{options.index=parseInt(index,10);}
          if(isNaN(options.index)){return;}
          if(disableAnimation){options.showAnimationDuration=0;}
          gallery=new PhotoSwipe(pswpElement,PhotoSwipeUI_Default,items,options);gallery.init();gallery.options.escKey=true;};var galleryElements=document.querySelectorAll(gallerySelector);for(var i=0,l=galleryElements.length;i<l;i++){galleryElements[i].setAttribute('data-pswp-uid',i+1);galleryElements[i].onclick=onThumbnailsClick;}
          var hashData=photoswipeParseHash();if(hashData.pid&&hashData.gid){openPhotoSwipe(hashData.pid,galleryElements[hashData.gid-1],true,true);}};initPhotoSwipeFromDOM('.gallery');</script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button><button class="pswp__button pswp__button--share" title="Share"></button><button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button><button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button><button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></body></html>